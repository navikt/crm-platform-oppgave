<template>
    <lightning-card class="slds-is-relative" icon-name="custom:custom45" title={listTitle}>
        <lightning-spinner if:true={isLoading} variant="brand" size="small"></lightning-spinner>
        <lightning-button-icon
            slot="actions"
            icon-name="utility:refresh"
            alternative-text="Refresh"
            title="Refresh"
            onclick={handleRefresh}
        ></lightning-button-icon>
        <c-crm-empty-state-no-task if:true={emptyState} message="Ingen oppgaver"></c-crm-empty-state-no-task>
        <div if:true={hasRecords}>
            <ul>
                <template for:each={records} for:item="navTask">
                    <li key={navTask.Id} class="list-item-row slds-m-horizontal_small slds-p-horizontal_small">
                        <c-crm-nav-task-list-item
                            display-fields={queryFields}
                            nav-task-record={navTask}
                        ></c-crm-nav-task-list-item>
                    </li>
                </template>
            </ul>
        </div>
        <div slot="footer" class="slds-align_absolute-center">
            <a onclick={navigateToListView}>Se alle oppgaver</a>
        </div>
    </lightning-card>
</template>
